/* Individual letter cells */
.letter-cell {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px; /* Increased font size for all letters */
  font-weight: bold;
  color: var(--light-blue);  /* Restore the blue color for all letters */
  cursor: pointer;
  user-select: none;
  border-radius: 4px;
  box-sizing: border-box;
  contain: layout style; /* Performance optimization */
  will-change: transform; /* Performance optimization */
  font-family: 'Courier New', monospace;
  cursor: url('/cursor.png') 0 0, auto; /* Use custom cursor */
  /* Add subtle effect to make number stand out */
  text-shadow: 0 0 2px rgba(100, 200, 255, 0.3);
  padding: 25px; /* Spacing between letters */
}

/* Inner content container for handling zooms */
.cell-content {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  will-change: transform;
  /* Default duration as fallback */
  --zoom-duration: 0.4s;
  /* Use custom bezier curve for bounce effect */
  transition: transform var(--zoom-duration) cubic-bezier(0.175, 0.885, 0.32, 1.575);
}

/* Special styling for the center cell */
.center-cell {
  z-index: 3; /* Put center cell above all others */
  color: var(--light-blue); /* Keep consistent with other letters */
  font-weight: bold;
}

/* Styling for scary cells */
.scary-cell {
  cursor: url('/cursor.png') 0 0, auto;
  /* Keep the same color as regular letters */
  color: var(--light-blue);
  font-weight: bold;
}

.letter {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Cascadia Code', monospace;
  font-size: 1.1em;
  color: var(--text-color);
  background-color: transparent;
  transition: background-color 0.2s, transform 0.1s, color 0.2s;
  position: absolute;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  touch-action: none;
}

.letter.scary {
  animation: scary-jitter 0.08s infinite ease-in-out;
  color: var(--letter-scary-color);
  cursor: grab; /* Shows the grab cursor to indicate draggable */
}

/* Show grabbing cursor while dragging */
.letter.scary:active {
  cursor: grabbing;
}

/* Styling for revealed neighbor cells */
.revealed-cell {
  cursor: url('/cursor.png') 0 0, auto !important;
  background-color: transparent !important;
  border: none !important; 
  box-shadow: none !important;
  /* Keep the same color as regular letters */
  color: var(--light-blue);
  font-weight: bold;
}

/* Styling for selected cells - zoomed in with subtle glow */
.selected-cell {
  z-index: 2; /* Ensure selected cells appear above others */
  /* Keep the same color as regular letters but add glow effect */
  color: var(--light-blue);
  font-weight: bold;
  /* Glow effect matching the letter color */
  text-shadow: 0 0 5px rgba(100, 200, 255, 0.6), 0 0 10px rgba(100, 200, 255, 0.4);
}

.selected-cell.scary-cell {
  text-shadow: 0 0 5px rgba(100, 200, 255, 0.6), 0 0 10px rgba(100, 200, 255, 0.4);
}

/* Styling for counted cells - maintain selected appearance but with subtle difference */
.counted-cell {
  z-index: 2; /* Same z-index as selected cells */
  color: var(--light-blue);
  font-weight: bold;
  /* Same glow as selected but with slightly different color to indicate counted state */
  text-shadow: 0 0 5px rgba(100, 200, 255, 0.6), 0 0 10px rgba(100, 200, 255, 0.4);
  pointer-events: none; /* Prevent further interaction with counted cells */
}

/* Apply scaling to selected and counted cells */
.selected-cell .cell-content,
.counted-cell .cell-content {
  transform: scale(2.2); /* 120% larger when selected - increased from 1.8 */
  z-index: 10; /* Ensure the zoomed content appears above other elements */
}

.selected-cell.scary-cell .cell-content,
.counted-cell.scary-cell .cell-content {
  transform: scale(2.2); /* 120% larger for scary numbers */
}

/* Jitter effect */
.jitter {
  display: inline-block;
  animation: jitter 0.15s infinite;
  will-change: transform;
}

@keyframes jitter {
  0%, 100% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(-2px, 1px, 0);
  }
  50% {
    transform: translate3d(1px, -1px, 0);
  }
  75% {
    transform: translate3d(-1px, -2px, 0);
  }
}
